<html>

<head>
    <title>Random Match Generator</title>

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet">

    <script type="text/javascript">

        function onLoad(array) {
            document.getElementById("names").value = "Atik Dipta Rafi Rifat Himel";
        }

        function shuffle(array) {
            let currentIndex = array.length, randomIndex;

            while (currentIndex != 0) {
                randomIndex = Math.floor(Math.random() * currentIndex);
                currentIndex--;
                [array[currentIndex], array[randomIndex]] = [array[randomIndex], array[currentIndex]];
            }

            return array;
        }

        function generate() {
            let names = document.getElementById("names").value.match(/\b(\w+)\b/g);
            names = shuffle(names);

            let matchesEven = [];
            let matchesOdd = [];

            for (let i = 0; i < names.length; i++) {
                let j = (i+1) % names.length;
                let match = names[i] + " vs " + names[j]

                if(i % 2) {
                    matchesEven.push(match);
                } else {
                    matchesOdd.push(match);
                }
            }

            let matches = matchesEven.concat(matchesOdd);

            document.getElementById("matches").value = matches.join('\n');
        }
    </script>
</head>

<body onload="onLoad()">

    <section class="vh-100 bg-image p-5 text-center shadow-1-strong rounded mb-5 text-white"
        style="background-size: cover; background-position: center; background-image: url(
            'https://media.contentapi.ea.com/content/dam/ea/fifa/fifa-22/new-features-and-modes/common/fifa-22-new-features-and-modes-page-gameplay.jpg.adapt.1920w.jpg');">

        <div class="container py-5 h-100">
            <div class="row d-flex justify-content-center align-items-center h-100">
                <div class="col-12 col-md-8 col-lg-6 col-xl-5">
                    <div class="card shadow-2-strong" style="border-radius: 1rem;">
                        <div class="card-body p-5 text-center text-black">

                            <h5 class="fw-normal mb-3 pb-3" style="letter-spacing: 1px;">Random Match Generator</h5>

                            <div class="form-outline mb-4">
                                <label class="form-label" for="names">Players</label>
                                <textarea class="form-control" id="names" rows="1" cols="50"></textarea>
                            </div>

                            <div class="form-outline mb-4">
                                <label class="form-label" for="matches">Matches</label>
                                <textarea class="form-control" id="matches" rows="8" cols="50"></textarea>
                            </div>

                            <div class="pt-1 mb-4">
                                <button class="btn btn-dark btn-lg btn-block" type="button" onclick="generate()">Generate</button>
                            </div>

                            <p class="small text-muted">Each player will play two matches and no player will have consecutive matches.</p>

                        </div>
                    </div>
                </div>
            </div>
        </div>

    </section>

</body>

</html>
